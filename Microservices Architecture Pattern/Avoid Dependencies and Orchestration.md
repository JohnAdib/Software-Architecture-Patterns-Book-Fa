# از وابستگی ها و ارکستراسیون اجتناب کنید

یکی از چالش های اصلی الگوی معماری میکروسرویس ها در حال تعیین سطح صحیح دانه بندی برای ترکیب سرویس توری ها اگر اجزای سرویس خیلی درشت هستند، ممکن است این کار را نکنید به مزایای این الگوی معماری پی ببرید (استقرار ment، مقیاس پذیری، آزمایش پذیری، و اتصال شل). با این حال، خدمات اجزایی که خیلی ریزدانه هستند به ارکستر خدماتی منجر می شوند. الزامات، که به سرعت میکروسرویس های ناب شما را تغییر می دهد معماری به یک معماری سرویس گرا سنگین وزن، ترکیب پر از پیچیدگی، سردرگمی، هزینه، و کرک معمولا با برنامه های کاربردی مبتنی بر SOA یافت می شود.

اگر متوجه شدید که باید اجزای خدمات خود را از آن هماهنگ کنید در رابط کاربری یا لایه API برنامه، سپس chan- ces هستند که اجزای سرویس شما خیلی ریز هستند. به طور مشابه، اگر متوجه می شوید که نیاز به برقراری ارتباط بین خدماتی دارید اجزای خدمات برای پردازش یک درخواست واحد، شانس شماست اجزای سرویس یا خیلی ریزدانه هستند یا جزئی نیستند از نقطه نظر عملکرد تجاری به درستی ذکر شده است.

ارتباطات بین سرویسی، که می‌تواند ناخواسته را مجبور کند به جای آن می توان از طریق یک پایگاه داده به اشتراک گذاشته شده، با اتصالات بین مؤلفه ها برخورد کرد. به عنوان مثال، اگر یک جزء خدماتی که Inter- سفارشات خالص نیاز به اطلاعات مشتری دارد، می تواند به پایگاه داده بروید بازیابی داده های لازم در مقابل عملکرد فراخوانی در بخش خدمات مشتری.

پایگاه داده مشترک می تواند نیازهای اطلاعاتی را برطرف کند، اما چه؟ عملکرد مشترک؟ اگر یک جزء سرویس به عملکرد نیاز دارد موجود در یکی دیگر از مؤلفه های سرویس یا مشترک برای همه سرورها اجزای vice، گاهی اوقات می توانید عملکرد مشترک را کپی کنید در سراسر اجزای سرویس (در نتیجه اصل DRY را نقض می کند لطفا: خودت را تکرار نکن). این یک عمل نسبتاً رایج در اکثر موارد است برنامه های کاربردی تجاری که معماری میکروسرویس ها را پیاده سازی می کنند الگو، مبادله کردن افزونگی از تکرار بخش های کوچک منطق کسب و کار به خاطر مستقل نگه داشتن اجزای خدمات و جداسازی استقرار آنها. ممکن است کلاس های کاربردی کوچک سقوط کنند در این دسته از کدهای تکراری.

اگر متوجه شدید که بدون توجه به سطح خدمات جزء granu- پس شما هنوز نمی توانید از ارکستراسیون مولفه های خدماتی اجتناب کنید این نشانه خوبی است که شاید این الگوی معماری درستی نباشد برای درخواست شما به دلیل ماهیت توزیع شده این پت- بنابراین، حفظ یک واحد معاملاتی واحد بسیار دشوار است کار بر روی (و بین) اجزای خدمات. چنین عملی به نوعی چارچوب جبران تراکنش نیاز دارد برای بازگرداندن تراکنش ها، که پیچیدگی قابل توجهی به آن اضافه می کند این الگوی معماری نسبتا ساده و ظریف.

# توپولوژی های الگو

در حالی که به معنای واقعی کلمه ده‌ها روش برای پیاده‌سازی الگوی معماری میکروسرویس‌ها وجود دارد، سه توپولوژی اصلی به عنوان رایج‌ترین و محبوب‌ترین آنها متمایز می‌شوند: توپولوژی مبتنی بر API REST، توپولوژی مبتنی بر REST base، و توپولوژی پیام‌رسان متمرکز.

توپولوژی مبتنی بر API REST برای وب‌سایت‌هایی مفید است که خدمات فردی کوچک و مستقل را از طریق نوعی API (رابط برنامه‌نویسی برنامه) در معرض دید قرار می‌دهند. این توپولوژی، که در شکل 4-2 نشان داده شده است، از اجزای خدمات بسیار ریز تشکیل شده است (از این رو میکروسرویس ها نامیده می شوند) که شامل یک یا دو ماژول است که عملکردهای تجاری خاصی را مستقل از بقیه خدمات انجام می دهند. در این توپولوژی، این مؤلفه‌های سرویس ریزدانه معمولاً با استفاده از یک رابط مبتنی بر REST که از طریق یک لایه API مبتنی بر وب به طور جداگانه پیاده‌سازی شده است، قابل دسترسی هستند. نمونه هایی از این توپولوژی شامل برخی از سرویس های وب متداول تک الگو (Cloud based RESTful) است که توسط یاهو، گوگل و آمازون یافت می شود.

توپولوژی مبتنی بر REST based با رویکرد مبتنی بر API REST متفاوت است زیرا درخواست های مشتری از طریق صفحه نمایش برنامه های کاربردی تجاری سنتی مبتنی بر وب یا fat client دریافت می شود نه از طریق یک لایه API ساده. از طریق یک لایه API ساده. همانطور که در شکل 4-3 نشان داده شده است، لایه رابط کاربری برنامه به عنوان یک برنامه وب جداگانه مستقر شده است که از راه دور به اجزای سرویس مستقر شده جداگانه (عملکرد تجاری) از طریق رابط های ساده مبتنی بر REST دسترسی دارد. مؤلفه‌های سرویس در این توپولوژی با آن‌هایی که در توپولوژی مبتنی بر API-REST هستند متفاوت هستند، زیرا این مؤلفه‌های خدماتی تمایل دارند بزرگ‌تر، درشت‌تر باشند و بخش کوچکی از برنامه کلی کسب‌وکار را به جای خدمات تک‌عملی ریز دانه نشان می‌دهند. این توپولوژی برای برنامه های کاربردی تجاری کوچک تا متوسط که دارای درجه پیچیدگی نسبتاً کمی هستند، رایج است.

یکی دیگر از رویکردهای رایج در معماری میکروسرویس ها الگو توپولوژی پیام رسانی متمرکز است. این توپولوژی (نشان داده شده در شکل 4-4) شبیه توپولوژی برنامه قبلی مبتنی بر REST است با این تفاوت که به جای استفاده از REST برای دسترسی از راه دور، این توپولوژی از یک واسطه پیام متمرکز سبک وزن (به عنوان مثال، ActiveMQ، HornetQ و غیره) استفاده می کند. هنگام نگاه کردن بسیار مهم است این توپولوژی آن را با معماری سرویس گرا اشتباه نگیرد الگو یا آن را "SOA-Lite" در نظر بگیرید. کارگزار پیام سبک وزن یافت شده در این توپولوژی هیچ ارکستراسیون، تبدیل، یا مسیریابی پیچیده ای را انجام نمی دهد. بلکه فقط یک حمل و نقل سبک برای دسترسی به اجزای خدمات از راه دور است.

توپولوژی پیام‌رسانی متمرکز معمولاً در برنامه‌های تجاری بزرگ‌تر یا برنامه‌هایی یافت می‌شود که به کنترل پیچیده‌تری روی لایه انتقال بین رابط کاربر و اجزای خدمات مزایای این توپولوژی نسبت به ساده توپولوژی مبتنی بر REST که قبلاً مورد بحث قرار گرفت، صف های پیشرفته هستند مکانیسم‌ها، پیام‌رسانی ناهمزمان، نظارت، مدیریت خطا، و تعادل بار کلی و مقیاس پذیری بهتر. نقطه واحد از مشکلات و مشکلات معماري گلوگاه معمولاً با الف کارگزار متمرکز از طریق خوشه بندی کارگزاری و فدراسیون کارگزار (تقسیم یک نمونه کارگزار واحد به چندین نمونه های کارگزار برای تقسیم بار خروجی پیام بر اساس مناطق عملکردی سیستم).
